From e4683cb49c4dd57b80c5cfecff69e8908542f23d Mon Sep 17 00:00:00 2001
From: Steven Holte <sholte@nvidia.com>
Date: Mon, 4 Jun 2012 20:02:11 -0700
Subject: [PATCH] egl: Return values from eglDestroyImageKHR

Change-Id: Icb7d640b7d85e02d38a2c6b9d7007b58539c9788
Reviewed-on: http://git-psac/r/248
Reviewed-by: Ankit Pashiney <apashiney@nvidia.com>
Tested-by: Ankit Pashiney <apashiney@nvidia.com>
Reviewed-by: Dan Willemsen <dwillemsen@nvidia.com>
---
 opengl/libs/EGL/eglApi.cpp |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/opengl/libs/EGL/eglApi.cpp b/opengl/libs/EGL/eglApi.cpp
index 1bc4eb7..a1c6a7a 100644
--- a/opengl/libs/EGL/eglApi.cpp
+++ b/opengl/libs/EGL/eglApi.cpp
@@ -1110,11 +1110,12 @@ EGLBoolean eglDestroyImageKHR(EGLDisplay dpy, EGLImageKHR img)
     const egl_display_ptr dp = validate_display(dpy);
     if (!dp) return EGL_FALSE;
 
+    EGLBoolean result = EGL_FALSE;
     egl_connection_t* const cnx = &gEGLImpl;
     if (cnx->dso && cnx->egl.eglDestroyImageKHR) {
-        cnx->egl.eglDestroyImageKHR(dp->disp.dpy, img);
+        result = cnx->egl.eglDestroyImageKHR(dp->disp.dpy, img);
     }
-    return EGL_TRUE;
+    return result;
 }
 
 // ----------------------------------------------------------------------------
-- 
1.7.0.4

